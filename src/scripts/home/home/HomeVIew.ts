import { createElement, createSVG } from '../../util/Util';

import { About } from '../about/AboutView';
import { Feature } from '../features/FeaturesView';
import { Info } from '../info/InfoView';
import { Review } from '../review/ReviewView';
import { Team } from '../team/TeamView';

import './home.scss';
import { linkSeeker } from './homeController';

export class HomeView {
  constructor(navRootEl: HTMLElement, rootEl: HTMLElement) {
    new About(rootEl);
    const nav = createElement('nav', ['main__home-navigation', 'home-navigation']);

    const navBox = createElement('ul', ['home-navigation__list']);

    navRootEl.append(getHiddenSvgBlock());

    const svgSHome = createSVG('svg', ['home-navigation__icon', 'home-navigation__icon_home']);
    const svgHomeUse = createSVG('use', [], [['href', '#home-icon']]);

    const svgReview = createSVG('svg', ['home-navigation__icon', 'home-navigation__icon_review']);
    const svgReviewUse = createSVG('use', [], [['href', '#review-icon']]);

    const svgFeatures = createSVG('svg', ['home-navigation__icon', 'home-navigation__icon_features']);
    const svgFeaturesUse = createSVG('use', [], [['href', '#features-icon']]);

    const svgTeam = createSVG('svg', ['home-navigation__icon', 'home-navigation__icon_team']);
    const svgTeamUse = createSVG('use', [], [['href', '#team-icon']]);

    const svgInfo = createSVG('svg', ['home-navigation__icon', 'home-navigation__icon_info']);
    const svgInfoUse = createSVG('use', [], [['href', '#info-icon']]);

    svgSHome.append(svgHomeUse);
    svgReview.append(svgReviewUse);
    svgFeatures.append(svgFeaturesUse);
    svgTeam.append(svgTeamUse);
    svgInfo.append(svgInfoUse);

    const mainLink = createElement('li', ['home-navigation__link', 'home-navigation__link_state_active'], [['data-type', 'about']]);
    const reviewLink = createElement('li', ['home-navigation__link'], [['data-type', 'review']]);
    const featuresLink = createElement('li', ['home-navigation__link'], [['data-type', 'features']]);
    const teamLink = createElement('li', ['home-navigation__link'], [['data-type', 'team']]);
    const infoLink = createElement('li', ['home-navigation__link'], [['data-type', 'info']]);

    linkSeeker([mainLink, reviewLink, featuresLink, teamLink, infoLink]);
    mainLink.append(svgSHome);
    reviewLink.append(svgReview);
    featuresLink.append(svgFeatures);
    teamLink.append(svgTeam);
    infoLink.append(svgInfo);

    mainLink.addEventListener('click', () => new About(rootEl));
    featuresLink.addEventListener('click', () => new Feature(rootEl));
    infoLink.addEventListener('click', () => new Info(rootEl));
    reviewLink.addEventListener('click', () => new Review(rootEl));
    teamLink.addEventListener('click', () => new Team(rootEl));

    navBox.append(mainLink, featuresLink, infoLink, reviewLink, teamLink);
    nav.append(navBox);

    navRootEl.append(nav);
  }
}

function getHiddenSvgBlock() {
  const hiddenSvg = createSVG('svg', [], [['display', 'none']]);

  const svgInfoSymbol = createSVG(
    'symbol',
    [],
    [
      ['viewBox', '0 0 32 32'],
      ['id', 'info-icon'],
    ],
  );
  const svgInfoPath = createSVG(
    'path',
    [],
    [
      [
        'd',
        'M31.7231 30.2813L22.1539 20.5C24.0616 18.1875 25.0154 15.5208 25.0154 12.5C25.0154 10.2292 24.4667 8.13543 23.3693 6.21877C22.2718 4.3021 20.7744 2.78647 18.8769 1.67189C16.9795 0.557307 14.918 1.52588e-05 12.6923 1.52588e-05C10.4667 1.52588e-05 8.41028 0.557307 6.5231 1.67189C4.63592 2.78647 3.14361 4.3021 2.04618 6.21877C0.948742 8.13543 0.400024 10.2292 0.400024 12.5C0.400024 14.7708 0.948742 16.8646 2.04618 18.7813C3.14361 20.6979 4.63592 22.2136 6.5231 23.3281C8.41028 24.4427 10.4718 25 12.7077 25C15.7641 25 18.4513 23.9792 20.7693 21.9375L30.3077 31.6875C30.5128 31.8958 30.7487 32 31.0154 32C31.2821 32 31.5128 31.9011 31.7077 31.7031C31.9026 31.5052 32 31.2656 32 30.9844C32 30.7031 31.9077 30.4688 31.7231 30.2813ZM12.7077 23.0313C10.8205 23.0313 9.08208 22.5573 7.49233 21.6094C5.90259 20.6615 4.64618 19.3802 3.7231 17.7656C2.80002 16.1511 2.33849 14.3958 2.33849 12.5C2.33849 10.6042 2.80002 8.84897 3.7231 7.23439C4.64618 5.61981 5.90259 4.33856 7.49233 3.39064C9.08208 2.44272 10.8154 1.96877 12.6923 1.96877C14.5693 1.96877 16.3026 2.44272 17.8923 3.39064C19.4821 4.33856 20.7385 5.61981 21.6616 7.23439C22.5846 8.84897 23.0462 10.6042 23.0462 12.5C23.0462 13.3125 22.9539 14.1146 22.7693 14.9063C22.5846 15.6979 22.3231 16.4375 21.9846 17.125C21.6462 17.8125 21.2411 18.4636 20.7693 19.0781C20.2975 19.6927 19.7641 20.2396 19.1693 20.7188C18.5744 21.1979 17.9385 21.6094 17.2616 21.9531C16.5846 22.2969 15.8564 22.5625 15.0769 22.75C14.2975 22.9375 13.5077 23.0313 12.7077 23.0313Z',
      ],
    ],
  );

  const svgFeaturesSymbol = createSVG(
    'symbol',
    [],
    [
      ['viewBox', '0 0 46 46'],
      ['id', 'features-icon'],
    ],
  );
  const svgFeaturesPath1 = createSVG(
    'path',
    [],
    [
      [
        'd',
        'M23 38.64C14.352 38.64 7.35999 31.648 7.35999 23C7.35999 14.352 14.352 7.36002 23 7.36002C31.648 7.36002 38.64 14.352 38.64 23C38.64 31.648 31.648 38.64 23 38.64ZM23 9.20002C15.364 9.20002 9.19999 15.364 9.19999 23C9.19999 30.636 15.364 36.8 23 36.8C30.636 36.8 36.8 30.636 36.8 23C36.8 15.364 30.636 9.20002 23 9.20002Z',
      ],
    ],
  );
  const svgFeaturesPath2 = createSVG(
    'path',
    [],
    [
      [
        'd',
        'M18.216 18.032C18.492 17.296 18.768 16.744 19.32 16.284C19.78 15.824 20.332 15.456 21.068 15.18C21.804 14.904 22.54 14.812 23.368 14.812C24.012 14.812 24.656 14.904 25.208 15.088C25.76 15.272 26.312 15.548 26.772 15.916C27.232 16.284 27.6 16.744 27.784 17.296C28.06 17.848 28.152 18.492 28.152 19.136C28.152 20.056 27.968 20.792 27.6 21.436C27.232 22.08 26.68 22.632 26.128 23.276L24.932 24.472C24.656 24.748 24.38 25.024 24.288 25.3C24.104 25.576 24.012 25.944 24.012 26.312C23.92 26.68 23.92 26.956 23.92 27.692H22.448C22.448 26.956 22.448 26.68 22.54 26.128C22.632 25.668 22.816 25.208 23 24.748C23.184 24.38 23.46 24.012 23.828 23.644C24.196 23.276 24.656 22.908 25.116 22.356C25.576 21.896 25.944 21.436 26.22 20.976C26.496 20.516 26.68 19.872 26.68 19.32C26.68 18.86 26.588 18.4 26.404 18.032C26.22 17.664 25.944 17.296 25.668 17.02C25.392 16.744 25.024 16.56 24.564 16.376C24.104 16.192 23.736 16.1 23.276 16.1C22.632 16.1 22.08 16.192 21.62 16.468C21.16 16.652 20.7 17.02 20.424 17.388C20.148 17.756 19.872 18.216 19.688 18.768C19.504 19.32 19.32 19.596 19.32 20.24H17.848C17.848 19.412 17.94 18.768 18.216 18.032ZM23.92 29.44V31.28H22.08V29.44H23.92Z',
      ],
    ],
  );

  const svgHomeSymbol = createSVG(
    'symbol',
    [],
    [
      ['viewBox', '0 0 36 36'],
      ['id', 'home-icon'],
    ],
  );
  const svgHomePath1 = createSVG(
    'path',
    [],
    [
      [
        'd',
        'M33.71 17.29L18.71 2.29001C18.5227 2.10376 18.2692 1.99922 18.005 1.99922C17.7408 1.99922 17.4874 2.10376 17.3 2.29001L2.30003 17.29C2.1362 17.4813 2.05059 17.7274 2.06032 17.9791C2.07004 18.2307 2.17437 18.4695 2.35246 18.6476C2.53056 18.8257 2.7693 18.93 3.02097 18.9397C3.27265 18.9494 3.51873 18.8638 3.71003 18.7L18 4.41001L32.29 18.71C32.4813 18.8738 32.7274 18.9594 32.9791 18.9497C33.2308 18.94 33.4695 18.8357 33.6476 18.6576C33.8257 18.4795 33.93 18.2407 33.9397 17.9891C33.9495 17.7374 33.8639 17.4913 33.7 17.3L33.71 17.29Z',
      ],
    ],
  );
  const svgHomePath2 = createSVG(
    'path',
    [],
    [
      [
        'd',
        'M28 32H23V22H13V32H8V18L6 20V32C6 32.5304 6.21071 33.0392 6.58579 33.4142C6.96086 33.7893 7.46957 34 8 34H15V24H21V34H28C28.5304 34 29.0391 33.7893 29.4142 33.4142C29.7893 33.0392 30 32.5304 30 32V19.76L28 17.76V32Z',
      ],
    ],
  );

  const svgReviewSymbol = createSVG(
    'symbol',
    [],
    [
      ['viewBox', '0 0 32 32'],
      ['id', 'review-icon'],
    ],
  );
  const svgReviewPath = createSVG(
    'path',
    [],
    [
      [
        'd',
        'M8 12C8 11.4696 8.21071 10.9609 8.58579 10.5858C8.96086 10.2107 9.46957 10 10 10H16C16.5304 10 17.0391 10.2107 17.4142 10.5858C17.7893 10.9609 18 11.4696 18 12V20C18 20.5304 17.7893 21.0392 17.4142 21.4142C17.0391 21.7893 16.5304 22 16 22H10C9.46957 22 8.96086 21.7893 8.58579 21.4142C8.21071 21.0392 8 20.5304 8 20V12ZM20 14L22.292 11.708C22.4317 11.5679 22.6099 11.4724 22.8039 11.4336C22.998 11.3948 23.1991 11.4145 23.382 11.4901C23.5649 11.5657 23.7212 11.6938 23.8312 11.8583C23.9412 12.0227 24 12.2161 24 12.414V19.586C24 19.7839 23.9412 19.9773 23.8312 20.1418C23.7212 20.3062 23.5649 20.4344 23.382 20.51C23.1991 20.5855 22.998 20.6052 22.8039 20.5664C22.6099 20.5276 22.4317 20.4321 22.292 20.292L20 18V14ZM16 1.52588e-05C18.4162 0.00141169 20.8007 0.550026 22.9746 1.60469C25.1485 2.65935 27.0553 4.19267 28.5519 6.08959C30.0485 7.9865 31.0961 10.1977 31.616 12.5574C32.1359 14.917 32.1146 17.3637 31.5537 19.714C30.9929 22.0642 29.907 24.2569 28.3776 26.1274C26.8483 27.998 24.9151 29.498 22.7232 30.5146C20.5312 31.5313 18.1375 32.0384 15.7217 31.9977C13.3058 31.9571 10.9305 31.3698 8.774 30.28L8.532 30.15L1.242 31.97C1.1017 32.0053 0.95542 32.0097 0.813249 31.983C0.671078 31.9562 0.536402 31.8989 0.418517 31.8151C0.300631 31.7312 0.202342 31.6228 0.130432 31.4973C0.0585217 31.3718 0.0147029 31.2321 0.00199985 31.088V30.924L0.0300002 30.758L1.85 23.47L1.724 23.23C0.808769 21.4283 0.24538 19.4687 0.0640001 17.456L0.0139999 16.692L0 16C0 11.7565 1.68571 7.68689 4.68629 4.68631C7.68687 1.68572 11.7565 1.52588e-05 16 1.52588e-05ZM16 2.00002C13.5569 1.99962 11.1563 2.63854 9.03661 3.8533C6.91694 5.06805 5.15205 6.81634 3.91733 8.92443C2.6826 11.0325 2.02102 13.427 1.99833 15.87C1.97565 18.313 2.59264 20.7194 3.788 22.85C3.8808 23.0157 3.92451 23.2044 3.914 23.394L3.886 23.582L2.374 29.624L8.422 28.116C8.54495 28.0857 8.67253 28.0789 8.798 28.096L8.98 28.138L9.154 28.216C11.0207 29.261 13.102 29.8644 15.2382 29.9797C17.3744 30.095 19.5086 29.7192 21.4769 28.8812C23.4453 28.0432 25.1954 26.7652 26.5929 25.1454C27.9903 23.5257 28.998 21.6072 29.5386 19.5373C30.0791 17.4674 30.1381 15.3012 29.711 13.205C29.2839 11.1088 28.3821 9.13829 27.0748 7.44489C25.7675 5.75149 24.0895 4.38021 22.1697 3.43634C20.2499 2.49246 18.1393 2.00111 16 2.00002Z',
      ],
    ],
  );

  const svgTeamSymbol = createSVG(
    'symbol',
    [],
    [
      ['viewBox', '0 0 33 31'],
      ['id', 'team-icon'],
    ],
  );
  const svgTeamPath = createSVG(
    'path',
    [],
    [
      [
        'd',
        'M18.55 16.5001C19.6374 16.5001 20.6802 16.9321 21.4491 17.701C22.218 18.4699 22.65 19.5127 22.65 20.6001V23.6751C22.65 27.8858 18.3696 30.8501 11.375 30.8501C4.38038 30.8501 0.0999756 27.8858 0.0999756 23.6751V20.6001C0.0999756 19.5127 0.531938 18.4699 1.30084 17.701C2.06974 16.9321 3.11259 16.5001 4.19998 16.5001H18.55ZM18.55 18.5501H4.19998C3.65628 18.5501 3.13486 18.7661 2.75041 19.1505C2.36596 19.535 2.14998 20.0564 2.14998 20.6001V23.6751C2.14998 26.5595 5.38693 28.8001 11.375 28.8001C17.363 28.8001 20.6 26.5595 20.6 23.6751V20.6001C20.6 20.0564 20.384 19.535 19.9995 19.1505C19.6151 18.7661 19.0937 18.5501 18.55 18.5501ZM28.8 16.5001C29.8874 16.5001 30.9302 16.9321 31.6991 17.701C32.468 18.4699 32.9 19.5127 32.9 20.6001V21.6251C32.9 25.9076 29.6856 28.8001 23.675 28.8001C23.3859 28.8001 23.101 28.7939 22.8263 28.7796C23.2527 28.2835 23.6094 27.7505 23.8964 27.1785L24.0952 26.7419H24.1752C28.7508 26.6087 30.85 24.6181 30.85 21.6251V20.6001C30.85 20.0564 30.634 19.535 30.2495 19.1505C29.8651 18.7661 29.3437 18.5501 28.8 18.5501H24.3494C24.0812 17.7939 23.6675 17.0975 23.1317 16.5001H28.8ZM11.375 0.100098C12.3172 0.100098 13.2502 0.285684 14.1207 0.646262C14.9912 1.00684 15.7822 1.53535 16.4485 2.20161C17.1147 2.86787 17.6432 3.65883 18.0038 4.52934C18.3644 5.39986 18.55 6.33286 18.55 7.2751C18.55 8.21733 18.3644 9.15034 18.0038 10.0209C17.6432 10.8914 17.1147 11.6823 16.4485 12.3486C15.7822 13.0148 14.9912 13.5434 14.1207 13.9039C13.2502 14.2645 12.3172 14.4501 11.375 14.4501C9.47205 14.4501 7.64706 13.6942 6.30149 12.3486C4.95591 11.003 4.19998 9.17803 4.19998 7.2751C4.19998 5.37217 4.95591 3.54718 6.30149 2.20161C7.64706 0.856033 9.47205 0.100098 11.375 0.100098ZM25.725 4.2001C27.0842 4.2001 28.3878 4.74005 29.3489 5.70118C30.31 6.6623 30.85 7.96586 30.85 9.3251C30.85 10.6843 30.31 11.9879 29.3489 12.949C28.3878 13.9101 27.0842 14.4501 25.725 14.4501C24.3657 14.4501 23.0622 13.9101 22.1011 12.949C21.1399 11.9879 20.6 10.6843 20.6 9.3251C20.6 7.96586 21.1399 6.6623 22.1011 5.70118C23.0622 4.74005 24.3657 4.2001 25.725 4.2001ZM11.375 2.1501C10.0157 2.1501 8.71218 2.69005 7.75105 3.65118C6.78993 4.6123 6.24998 5.91586 6.24998 7.2751C6.24998 8.63433 6.78993 9.9379 7.75105 10.899C8.71218 11.8601 10.0157 12.4001 11.375 12.4001C12.7342 12.4001 14.0378 11.8601 14.9989 10.899C15.96 9.9379 16.5 8.63433 16.5 7.2751C16.5 5.91586 15.96 4.6123 14.9989 3.65118C14.0378 2.69005 12.7342 2.1501 11.375 2.1501ZM25.725 6.2501C24.9094 6.2501 24.1273 6.57407 23.5506 7.15074C22.9739 7.72742 22.65 8.50956 22.65 9.3251C22.65 10.1406 22.9739 10.9228 23.5506 11.4995C24.1273 12.0761 24.9094 12.4001 25.725 12.4001C26.5405 12.4001 27.3227 12.0761 27.8993 11.4995C28.476 10.9228 28.8 10.1406 28.8 9.3251C28.8 8.50956 28.476 7.72742 27.8993 7.15074C27.3227 6.57407 26.5405 6.2501 25.725 6.2501Z',
      ],
    ],
  );

  svgInfoSymbol.append(svgInfoPath);
  svgFeaturesSymbol.append(svgFeaturesPath1, svgFeaturesPath2);
  svgHomeSymbol.append(svgHomePath1, svgHomePath2);
  svgReviewSymbol.append(svgReviewPath);
  svgTeamSymbol.append(svgTeamPath);

  hiddenSvg.append(svgInfoSymbol, svgFeaturesSymbol, svgHomeSymbol, svgReviewSymbol, svgTeamSymbol);
  return hiddenSvg;
}
